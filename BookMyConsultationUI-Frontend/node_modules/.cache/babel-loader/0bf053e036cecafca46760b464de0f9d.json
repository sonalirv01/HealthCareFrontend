{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Downloads/HealthCareFrontend/BookMyConsultationUI-Frontend/src/screens/appointment/RateAppointment.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { DialogTitle, Dialog, DialogContent, Typography, TextField, Button, makeStyles } from \"@material-ui/core\";\nimport Rating from '@material-ui/lab/Rating';\nimport { appointmentsAPI } from \"../../util/fetch\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(() => ({\n  dialogPaper: {\n    maxHeight: '90vh',\n    overflowX: 'hidden'\n  },\n  DialogContent: {\n    padding: 20\n  },\n  dialogTitle: {\n    backgroundColor: \"purple\",\n    padding: 16,\n    color: \"white\",\n    fontSize: \"1.2rem\",\n    width: \"100%\",\n    margin: 0\n  },\n  field: {\n    marginTop: 16,\n    marginBottom: 20,\n    width: \"100%\"\n  },\n  errorText: {\n    color: \"red\",\n    fontSize: \"0.8rem\",\n    marginTop: 4\n  },\n  nameText: {\n    fontWeight: 500\n  }\n}));\nconst RateAppointment = ({\n  appointment,\n  onClose\n}) => {\n  _s();\n  var _appointment$doctorId;\n  const classes = useStyles();\n  const [rating, setRating] = useState(\"\");\n  const [comment, setComment] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const handleSubmit = async () => {\n    setError(\"\");\n    if (!rating || rating < 1 || rating > 5) {\n      setError(\"Please select the rating.\");\n      return;\n    }\n    try {\n      await appointmentsAPI.rateAppointment({\n        doctorId: appointment.doctorId._id || appointment.doctorId,\n        appointmentId: appointment._id,\n        rating: Number(rating),\n        comments: comment\n      });\n      alert(\"Thank you for your feedback!\");\n      window.dispatchEvent(new Event(\"rating-submitted\"));\n      onClose();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Error submitting rating\", err);\n      const msg = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Could not submit rating. Try again.\";\n      setError(msg);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: true,\n    onClose: onClose,\n    maxWidth: \"sm\",\n    fullWidth: true,\n    classes: {\n      paper: classes.dialogPaper\n    },\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      className: classes.dialogTitle,\n      disableTypography: true,\n      children: \"Rate Appointment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      className: classes.dialogContent,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        className: classes.nameText,\n        children: ((_appointment$doctorId = appointment.doctorId) === null || _appointment$doctorId === void 0 ? void 0 : _appointment$doctorId.name) || \"N/A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Comment\",\n        multiline: true,\n        rows: 3,\n        className: classes.field,\n        value: comment,\n        onChange: e => setComment(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Rating, {\n        name: \"appointment-rating\",\n        value: Number(rating),\n        onChange: (event, newValue) => {\n          setRating(newValue);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(Typography, {\n        className: classes.errorText,\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          flexWrap: \"wrap\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          style: {\n            marginTop: 20\n          },\n          onClick: handleSubmit,\n          children: \"Submit Rating\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n_s(RateAppointment, \"fm+Say3QRl6manCDQfmb5FERENA=\", false, function () {\n  return [useStyles];\n});\n_c = RateAppointment;\nexport default RateAppointment;\nvar _c;\n$RefreshReg$(_c, \"RateAppointment\");","map":{"version":3,"names":["React","useState","DialogTitle","Dialog","DialogContent","Typography","TextField","Button","makeStyles","Rating","appointmentsAPI","jsxDEV","_jsxDEV","useStyles","dialogPaper","maxHeight","overflowX","padding","dialogTitle","backgroundColor","color","fontSize","width","margin","field","marginTop","marginBottom","errorText","nameText","fontWeight","RateAppointment","appointment","onClose","_s","_appointment$doctorId","classes","rating","setRating","comment","setComment","error","setError","handleSubmit","rateAppointment","doctorId","_id","appointmentId","Number","comments","alert","window","dispatchEvent","Event","err","_err$response","_err$response$data","console","msg","response","data","message","open","maxWidth","fullWidth","paper","children","className","disableTypography","fileName","_jsxFileName","lineNumber","columnNumber","dialogContent","variant","name","label","multiline","rows","value","onChange","e","target","event","newValue","style","display","justifyContent","flexWrap","onClick","_c","$RefreshReg$"],"sources":["/Users/macbook/Downloads/HealthCareFrontend/BookMyConsultationUI-Frontend/src/screens/appointment/RateAppointment.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  DialogTitle,\r\n  Dialog,\r\n  DialogContent,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport { appointmentsAPI } from \"../../util/fetch\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  dialogPaper: {\r\n    maxHeight: '90vh',\r\n    overflowX: 'hidden',\r\n  },\r\n  DialogContent: {\r\n    padding: 20,\r\n  },\r\n  dialogTitle: {\r\n    backgroundColor: \"purple\",\r\n    padding: 16,\r\n    color: \"white\",\r\n    fontSize: \"1.2rem\",\r\n    width: \"100%\",\r\n    margin: 0,\r\n  },\r\n  field: {\r\n    marginTop: 16,\r\n    marginBottom: 20,\r\n    width: \"100%\",\r\n  },\r\n  errorText: {\r\n    color: \"red\",\r\n    fontSize: \"0.8rem\",\r\n    marginTop: 4,\r\n  },\r\n  nameText: {\r\n    fontWeight: 500,\r\n  }\r\n}));\r\n\r\nconst RateAppointment = ({ appointment, onClose }) => {\r\n  const classes = useStyles();\r\n  const [rating, setRating] = useState(\"\");\r\n  const [comment, setComment] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const handleSubmit = async () => {\r\n    setError(\"\");\r\n\r\n    if (!rating || rating < 1 || rating > 5) {\r\n      setError(\"Please select the rating.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await appointmentsAPI.rateAppointment({\r\n        doctorId: appointment.doctorId._id || appointment.doctorId,\r\n        appointmentId: appointment._id,\r\n        rating: Number(rating),\r\n        comments: comment,\r\n      });\r\n\r\n      alert(\"Thank you for your feedback!\");\r\n\r\n      window.dispatchEvent(new Event(\"rating-submitted\"));\r\n\r\n      onClose();\r\n    } catch (err) {\r\n      console.error(\"Error submitting rating\", err);\r\n      const msg = err.response?.data?.message || \"Could not submit rating. Try again.\";\r\n      setError(msg);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={true} onClose={onClose} maxWidth=\"sm\" fullWidth classes={{ paper: classes.dialogPaper }}>\r\n      <DialogTitle className={classes.dialogTitle} disableTypography>\r\n        Rate Appointment</DialogTitle>\r\n        <DialogContent className={classes.dialogContent}>\r\n          <Typography variant=\"h6\" className={classes.nameText}>\r\n            {appointment.doctorId?.name || \"N/A\"}\r\n          </Typography>\r\n          <TextField\r\n            label=\"Comment\"\r\n            multiline\r\n            rows={3}\r\n            className={classes.field}\r\n            value={comment}\r\n            onChange={(e) => setComment(e.target.value)}\r\n          />\r\n          <Rating\r\n            name=\"appointment-rating\"\r\n            value={Number(rating)}\r\n            onChange={(event, newValue) => {\r\n              setRating(newValue);\r\n            }}\r\n          />\r\n          {error && (\r\n            <Typography className={classes.errorText}>{error}</Typography>\r\n          )}\r\n          <div style={{ display: \"flex\", justifyContent: \"space-between\", flexWrap: \"wrap\" }}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              style={{ marginTop: 20 }}\r\n              onClick={handleSubmit}\r\n            >\r\n              Submit Rating\r\n            </Button>\r\n          </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default RateAppointment;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}