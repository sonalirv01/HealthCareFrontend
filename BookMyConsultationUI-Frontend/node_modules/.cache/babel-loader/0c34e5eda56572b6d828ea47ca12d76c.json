{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Downloads/HealthCareFrontend/BookMyConsultationUI-Frontend/src/screens/login/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Button, FormControl, InputLabel, Input, FormHelperText } from \"@material-ui/core\";\nimport { authAPI } from \"../../util/fetch\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = ({\n  onClose\n}) => {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [emailError, setEmailError] = useState(\"\");\n  const [passwordError, setPasswordError] = useState(\"\");\n  const [authError, setAuthError] = useState(\"\");\n  const validateEmail = email => /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n  const handleLogin = async () => {\n    let valid = true;\n    setEmailError(\"\");\n    setPasswordError(\"\");\n    setAuthError(\"\");\n    if (!email) {\n      setEmailError(\"Please fill out this field\");\n      valid = false;\n    } else if (!validateEmail(email)) {\n      setEmailError(\"Enter valid Email\");\n      valid = false;\n    }\n    if (!password) {\n      setPasswordError(\"Please fill out this field\");\n      valid = false;\n    }\n    if (!valid) return;\n    try {\n      const response = await authAPI.login({\n        emailId: email,\n        password\n      });\n      sessionStorage.setItem(\"token\", response.data.token);\n      onClose();\n      window.dispatchEvent(new Event(\"login\"));\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setAuthError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Invalid login\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: \"20px\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      width: \"100%\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: \"300px\",\n        width: \"100%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(FormControl, {\n        margin: \"normal\",\n        error: !!emailError,\n        sx: {\n          width: \"100%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          htmlFor: \"email\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          id: \"email\",\n          type: \"email\",\n          value: email,\n          onChange: e => {\n            setEmail(e.target.value);\n            setEmailError(\"\");\n            setAuthError(\"\");\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n          children: emailError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        margin: \"normal\",\n        error: !!passwordError,\n        sx: {\n          width: \"100%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          htmlFor: \"password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          id: \"password\",\n          type: \"password\",\n          value: password,\n          onChange: e => {\n            setPassword(e.target.value);\n            setPasswordError(\"\");\n            setAuthError(\"\");\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormHelperText, {\n          children: passwordError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), authError && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\",\n          fontSize: \"0.85rem\"\n        },\n        children: authError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\",\n          width: \"100%\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          size: \"small\",\n          style: {\n            marginTop: \"16px\",\n            marginBottom: \"10px\",\n            width: \"30%\"\n          },\n          onClick: handleLogin,\n          children: \"LOGIN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"xywfazRQjHB3CjC6pV1htTa1KPM=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Button","FormControl","InputLabel","Input","FormHelperText","authAPI","jsxDEV","_jsxDEV","Login","onClose","_s","email","setEmail","password","setPassword","emailError","setEmailError","passwordError","setPasswordError","authError","setAuthError","validateEmail","test","handleLogin","valid","response","login","emailId","sessionStorage","setItem","data","token","window","dispatchEvent","Event","err","_err$response","_err$response$data","message","style","marginTop","display","flexDirection","alignItems","width","children","maxWidth","margin","error","sx","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","id","type","value","onChange","e","target","color","fontSize","justifyContent","variant","size","marginBottom","onClick","_c","$RefreshReg$"],"sources":["/Users/macbook/Downloads/HealthCareFrontend/BookMyConsultationUI-Frontend/src/screens/login/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  Button,\r\n  FormControl,\r\n  InputLabel,\r\n  Input,\r\n  FormHelperText,\r\n} from \"@material-ui/core\";\r\nimport { authAPI } from \"../../util/fetch\";\r\n\r\nconst Login = ({ onClose }) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [emailError, setEmailError] = useState(\"\");\r\n  const [passwordError, setPasswordError] = useState(\"\");\r\n  const [authError, setAuthError] = useState(\"\");\r\n\r\n  const validateEmail = (email) =>\r\n    /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\r\n\r\n  const handleLogin = async () => {\r\n    let valid = true;\r\n    setEmailError(\"\");\r\n    setPasswordError(\"\");\r\n    setAuthError(\"\");\r\n  \r\n    if (!email) {\r\n      setEmailError(\"Please fill out this field\");\r\n      valid = false;\r\n    } else if (!validateEmail(email)) {\r\n      setEmailError(\"Enter valid Email\");\r\n      valid = false;\r\n    }\r\n  \r\n    if (!password) {\r\n      setPasswordError(\"Please fill out this field\");\r\n      valid = false;\r\n    }\r\n  \r\n    if (!valid) return;\r\n  \r\n    try {\r\n      const response = await authAPI.login({ emailId: email, password });\r\n  \r\n      sessionStorage.setItem(\"token\", response.data.token);\r\n      onClose();\r\n      window.dispatchEvent(new Event(\"login\"));\r\n    } catch (err) {\r\n      setAuthError(err.response?.data?.message || \"Invalid login\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ \r\n      marginTop: \"20px\", \r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      width: \"100%\"\r\n    }}>\r\n      <div style={{ maxWidth: \"300px\", width: \"100%\" }}>\r\n        <FormControl margin=\"normal\" error={!!emailError} sx={{ width: \"100%\" }}>\r\n          <InputLabel htmlFor=\"email\">Email</InputLabel>\r\n          <Input\r\n            id=\"email\"\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => {\r\n              setEmail(e.target.value);\r\n              setEmailError(\"\");\r\n              setAuthError(\"\");\r\n            }}\r\n          />\r\n          <FormHelperText>{emailError}</FormHelperText>\r\n        </FormControl>\r\n  \r\n        <FormControl margin=\"normal\" error={!!passwordError} sx={{ width: \"100%\" }}>\r\n          <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n          <Input\r\n            id=\"password\"\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => {\r\n              setPassword(e.target.value);\r\n              setPasswordError(\"\");\r\n              setAuthError(\"\");\r\n            }}\r\n          />\r\n          <FormHelperText>{passwordError}</FormHelperText>\r\n        </FormControl>\r\n  \r\n        {authError && (\r\n          <p style={{ color: \"red\", fontSize: \"0.85rem\" }}>{authError}</p>\r\n        )}\r\n  \r\n        <div style={{ display: \"flex\", justifyContent: \"center\", width: \"100%\" }}>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            style={{ marginTop: \"16px\", marginBottom: \"10px\", width: \"30%\" }}\r\n            onClick={handleLogin}\r\n          >\r\n            LOGIN\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );  \r\n};\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}